# The Shell

```cd or cd /``` - возвращает в домашнюю директорию
двойной tab после набора имени директории показывает список доступных файлов и папок

```tree directory``` - показывает дерево вложенных папок и файлов с подсчетом их количества
```mv dir1 dir2``` - переименование директории (на самом деле перемещение файлов в папку с новым названием)
```mv test2/* test3``` - переместить всё содержимое одной папки в другую
```rm file1``` - удалить файл
```rm -r dir``` - удаление директории
```rm -r *``` - удаление всех файлов внутри текущей папки
```rm -r dir/*``` - удаление всех файлов внутри указанной папки
```rm -rf dir``` - форсированное удаление (просто молча все удаляется ) - использовать внимательно и осторожно


## Works with files

```mkdir``` - создает папку
```mkdir -p test1/test2``` - создает сразу все папки
```touch file1``` - создает файл

```mv file renamed-file``` - переименование файла

```cp file file-copy``` - копирование файла

```cp -r dir dir-copy``` - копирование директории

```cat filename```  - вывод содержимого файла в баш
```head filename``` - вывод первых 10 записей
```tail filename``` - вывод последних 10 записей
```tail -f filename``` - захватывает управление и выводит последующие записи, если они добавляются
```grep 'search str' filename``` - выводит записи, которые содержат эту строку
```less filename``` -  открывает ту часть файла, что помещается на экране, можно перемещаться (ctrl+f, ctrl+b, h, /serchstr, n, shift+n)

## Information

```man commandname``` - справка по комманде (открывается в пейджере), есть man man
```man -f commandname``` - поиск во всех категориях
```man 2 commandname``` - справка по конкретной категории

```reset``` - очистка экрана

## Перенаправления и потоки

ls > filename - вывод результатов в файл
sort < filename - данные берутся из файла
sort < file1 > file2 - берем из одного файла, что-то делаем и записываем в другой
конвейер - передача данных из одного потока в другой
ls | grep test | grep rkt

история
history - вывод истории
!!number или !!command_name - выполнение команды из истории
!! - выполнение предыдущей комманды
ctrl+r - поиск по истории

псевдонимы
alias - вывод всего списка
alias name="command" - создание
unalias name - удаение

history - выводит всю историю команд (если добавить 5, то последние пять)
echo $HISTFILESIZE - если указана, то ограничивает количество команд в .bash_history
history | grep export - можно грепать
!55 - выполнить команду из истории
Ctrl + r (реверсивыный поиск) - запустится специальный поиск по истории. Он ожидает ввода символов и сразу отображает ближайшую команду, в которой эти символы встречаются. Если найденное соответствие вас не устроило, то повторное нажатие Ctrl + r выберет следующее соответствие из истории.

Пользователи и группы
whoami - узнать имя текущего пользователя
ps aux - список процессов с пометкой от какого пользователя запущен
Id - просмотр идентификаторов пользователя
sudo -u username command - выполняет команду от имени другого пользователя
sudo -i - меня пользователя для выполнения пачки комманд (незабыть exit!!!)


Права

В начале стоит либо - (файл), либо d(директория)

	A	B	C	D
1	#	Permission	rwx	Binary
2	7	read, write and execute	rwx	111
3	6	read and write	rw-	110
4	5	read and execute	r-x	101
5	4	read only	r--	100
6	3	write and execute	-wx	011
7	2	write only	-w-	010
8	1	execute only	--x	001

drwxr-xr-x в числовой форме соответствует 755, а -rw-r--r-- — 644.
